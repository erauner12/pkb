<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kubernetes</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="EVAN-PC" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/font.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/htmlize.css"/>
<script type="text/javascript" src="../../styles/readtheorg/js/jquery.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Kubernetes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgbc56935">1. Links</a></li>
<li><a href="#org53da8ea">2. Vagrant Lab</a></li>
<li><a href="#orgcd5f93d">3. Course Overview</a>
<ul>
<li><a href="#org656a1b4">3.1. Course Introduction</a></li>
</ul>
</li>
<li><a href="#orgb9fc6a6">4. Course Introduction</a>
<ul>
<li><a href="#org29904dd">4.1. Course intro</a></li>
</ul>
</li>
<li><a href="#orgda3ffc8">5. What Is Kubernetes?</a>
<ul>
<li><a href="#orgaeb1aa2">5.1. Kubernetes: Where It Came From</a></li>
<li><a href="#orgaf4f24b">5.2. Kubernetes: What and Why</a></li>
</ul>
</li>
<li><a href="#orga4e0c72">6. Kubernetes Architecture</a>
<ul>
<li><a href="#org729a30f">6.1. Module Intro</a></li>
<li><a href="#orgb978221">6.2. Big Picture View</a></li>
<li><a href="#org582a21a">6.3. Masters</a></li>
<li><a href="#org6a26cbf">6.4. Desired State and the Declarative Model</a></li>
<li><a href="#orgc327c09">6.5. Pods</a></li>
<li><a href="#orgc604ce5">6.6. Services</a></li>
<li><a href="#org722dc15">6.7. Deployments</a></li>
<li><a href="#org7d01574">6.8. Bringing It Home</a></li>
</ul>
</li>
<li><a href="#orgdd33db7">7. Installing Kubernetes</a>
<ul>
<li><a href="#org8eb6213">7.1. Module Intro</a></li>
<li><a href="#org2336699">7.2. Minikube</a></li>
<li><a href="#orgd85e206">7.3. Google Container Engine</a></li>
<li><a href="#org9ec09e0">7.4. Installing in AWS with kops</a></li>
<li><a href="#org060c5d9">7.5. Installing Manually with kubeadm</a></li>
<li><a href="#org669c378">7.6. Module Summary</a></li>
</ul>
</li>
<li><a href="#orge74d88f">8. Working with Pods</a>
<ul>
<li><a href="#org91d8a16">8.1. Pod Theory</a></li>
<li><a href="#orga0c4b1c">8.2. Deploying Your First Pod</a></li>
<li><a href="#org2cd2c5a">8.3. Deploying Pods via Replication Controllers</a></li>
<li><a href="#org9c1b6b9">8.4. Module Summary</a></li>
<li><a href="#orgb18a434">8.5. Kubernetes Services</a></li>
<li><a href="#org2e8c49d">8.6. Module Intro</a></li>
<li><a href="#orgac6eceb">8.7. The Theory</a></li>
<li><a href="#org7f7279c">8.8. Creating a Service the Iterative Way</a></li>
<li><a href="#org18ff9c3">8.9. Creating a Service the Declarative Way</a></li>
<li><a href="#orge0d6635">8.10. In the Real World</a></li>
<li><a href="#org2cfe49b">8.11. Summary</a></li>
</ul>
</li>
<li><a href="#org1fd98d9">9. Kubernetes Deployments</a>
<ul>
<li><a href="#org8ab5faa">9.1. Module Intro</a></li>
<li><a href="#org39f2211">9.2. Deployment Theory</a></li>
<li><a href="#org1930e45">9.3. Creating Your First Kubernetes Deployment</a></li>
<li><a href="#orgfe513a2">9.4. Updating a Deployment</a></li>
<li><a href="#org3dfb6ca">9.5. Module Summary</a></li>
</ul>
</li>
<li><a href="#org60d07ee">10. What Next?</a>
<ul>
<li><a href="#org4dec519">10.1. What Next?</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgbc56935" class="outline-2">
<h2 id="orgbc56935"><span class="section-number-2">1</span> Links</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="https://app.pluralsight.com/library/courses/getting-started-kubernetes/table-of-contents">https://app.pluralsight.com/library/courses/getting-started-kubernetes/table-of-contents</a>
</p>
</div>
</div>

<div id="outline-container-org53da8ea" class="outline-2">
<h2 id="org53da8ea"><span class="section-number-2">2</span> Vagrant Lab</h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="https://blog.exxactcorp.com/building-a-kubernetes-cluster-using-vagrant/">https://blog.exxactcorp.com/building-a-kubernetes-cluster-using-vagrant/</a>
</p>


<div class="org-src-container">
<pre class="src src-go">git clone https://exxsyseng@bitbucket.org/exxsyseng/k8s_centos.git      # Centos k8s Cluster
git clone https://exxsyseng@bitbucket.org/exxsyseng/k8s_ubuntu.git      # Ubuntu k8s Cluster
</pre>
</div>
</div>
</div>



<div id="outline-container-orgcd5f93d" class="outline-2">
<h2 id="orgcd5f93d"><span class="section-number-2">3</span> Course Overview</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org656a1b4" class="outline-3">
<h3 id="org656a1b4"><span class="section-number-3">3.1</span> Course Introduction</h3>
<div class="outline-text-3" id="text-3-1">
<p>
fundamental parts of kubernetes
</p>

<ul class="org-ul">
<li>going to install kubernetes for a lab</li>

<li>going to work with pods</li>

<li>going to do some deployments</li>
</ul>
</div>
</div>
</div>



<div id="outline-container-orgb9fc6a6" class="outline-2">
<h2 id="orgb9fc6a6"><span class="section-number-2">4</span> Course Introduction</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org29904dd" class="outline-3">
<h3 id="org29904dd"><span class="section-number-3">4.1</span> Course intro</h3>
</div>
</div>

<div id="outline-container-orgda3ffc8" class="outline-2">
<h2 id="orgda3ffc8"><span class="section-number-2">5</span> What Is Kubernetes?</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgaeb1aa2" class="outline-3">
<h3 id="orgaeb1aa2"><span class="section-number-3">5.1</span> Kubernetes: Where It Came From</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>written in go/golang
<ul class="org-ul">
<li><a href="https://github.com/kubernetes/kubernetes">https://github.com/kubernetes/kubernetes</a></li>
</ul></li>

<li>came from google</li>
<li>borg
<ul class="org-ul">
<li>omega
<ul class="org-ul">
<li>kubernetes</li>
</ul></li>
</ul></li>
</ul>


<p>
Kubernetes = K8s
</p>
</div>
</div>



<div id="outline-container-orgaf4f24b" class="outline-3">
<h3 id="orgaf4f24b"><span class="section-number-3">5.2</span> Kubernetes: What and Why</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Containers
</p>
<ul class="org-ul">
<li>Challenges they bring
<ul class="org-ul">
<li>brings new scalability challenges</li>

<li>application developers do not care about cpu is running their code</li>

<li>Pets vs Cattle

<ul class="org-ul">
<li>kubernetes, I got this app and it consists of these containers

<ul class="org-ul">
<li>kubernetes take care of all the hard work and logistics</li>
</ul></li>
</ul></li>
</ul></li>
</ul>


<ul class="org-ul">
<li>what is it made up of?

<ul class="org-ul">
<li>standard package format</li>

<li>manifest</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>very platfrom agnostic

<ul class="org-ul">
<li>as long as you can install the agent, it wil work</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>lets you target deployments

<ul class="org-ul">
<li>it makes decisions about to where to run it</li>
</ul></li>

<li>Kubernetes is moving very fast

<ul class="org-ul">
<li>get your hands dirty and keep playing with it</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga4e0c72" class="outline-2">
<h2 id="orga4e0c72"><span class="section-number-2">6</span> Kubernetes Architecture</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org729a30f" class="outline-3">
<h3 id="org729a30f"><span class="section-number-3">6.1</span> Module Intro</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Big picture view
</p>

<ul class="org-ul">
<li>masters</li>

<li>nodes</li>

<li>pods</li>

<li>Services

<ul class="org-ul">
<li>networking</li>
</ul></li>

<li>deployments</li>
</ul>
</div>
</div>

<div id="outline-container-orgb978221" class="outline-3">
<h3 id="orgb978221"><span class="section-number-3">6.2</span> Big Picture View</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Kubernetes is just an orchestrator for microservice apps
</p>


<div class="figure">
<p><img src="file://wsl$/Ubuntu-18.04/home/erauner12/pkb/lab/course/kubernetes.org_20200415_193424_e4YYOS.png" alt="kubernetes.org_20200415_193424_e4YYOS.png" />
</p>
</div>

<p>
package up your application and give it to the cluster
</p>


<div class="figure">
<p><img src="file://wsl$/Ubuntu-18.04/home/erauner12/pkb/lab/course/kubernetes.org_20200415_193726_LpcgYX.png" alt="kubernetes.org_20200415_193726_LpcgYX.png" />
</p>
</div>


<ul class="org-ul">
<li>Masters

<ul class="org-ul">
<li>master control plane</li>

<li></li>
</ul></li>

<li>Nodes

<ul class="org-ul">
<li>do the actual work</li>
<li>report back to master about the changes that are happening</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>package the application it up in what is called a deployment

<ul class="org-ul">
<li>manifest file tells cluster what configuration settings it has</li>
</ul></li>
</ul>
</div>
</div>





<div id="outline-container-org582a21a" class="outline-3">
<h3 id="org582a21a"><span class="section-number-3">6.3</span> Masters</h3>
<div class="outline-text-3" id="text-6-3">
<p>
platform agnostic
<img src="file://wsl$/Ubuntu-18.04/home/erauner12/pkb/lab/course/kubernetes.org_20200415_194008_jZjkb2.png" alt="kubernetes.org_20200415_194008_jZjkb2.png" />
</p>
<ul class="org-ul">
<li>all it wants is linux
<ul class="org-ul">
<li>linux does not care if it running on bare metal,openstack, cloud</li>
</ul></li>
</ul>


<p>
kube-apiserver
</p>
<ul class="org-ul">
<li>front-end to the control plane</li>
<li>exposes the API (REST)</li>
<li>Consumes JSON via manfiest files
<ul class="org-ul">
<li>declare the state of our app for. record of intent</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>Cluster Store

<ul class="org-ul">
<li>perisent sotrage</li>
<li>cluster state and config</li>
<li>uses etcd
<ul class="org-ul">
<li>source of truth for the cluster</li>
</ul></li>
</ul></li>
</ul>


<ul class="org-ul">
<li>kube controller-manager

<ul class="org-ul">
<li>controller of controllers</li>

<li>node controller</li>

<li>endpoints controller</li>

<li>namespace controller</li>

<li>watches for changes</li>

<li>helps maintain desired state
<ul class="org-ul">
<li>current state = desired state</li>
</ul></li>
</ul></li>

<li>kuber-scheduler

<ul class="org-ul">
<li>watches apiserver for new pods</li>

<li>assigns work to nodes</li>
</ul></li>
</ul>


<div class="figure">
<p><img src="file://wsl$/Ubuntu-18.04/home/erauner12/pkb/lab/course/kubernetes.org_20200415_194815_YRQj8A.png" alt="kubernetes.org_20200415_194815_YRQj8A.png" />
</p>
</div>


<ul class="org-ul">
<li>issuing commands to the master
<ul class="org-ul">
<li>master = api server
<ul class="org-ul">
<li>that is where you are actually issuing commands</li>
</ul></li>
</ul></li>

<li>kubectl talks to the apiserver (master) via json files
<ul class="org-ul">
<li>works gets passed to nodes from the scheduler</li>
</ul></li>
</ul>


<div class="figure">
<p><img src="file://wsl$/Ubuntu-18.04/home/erauner12/pkb/lab/course/kubernetes.org_20200415_195033_dNRDgH.png" alt="kubernetes.org_20200415_195033_dNRDgH.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-org6a26cbf" class="outline-3">
<h3 id="org6a26cbf"><span class="section-number-3">6.4</span> Desired State and the Declarative Model</h3>
</div>


<div id="outline-container-orgc327c09" class="outline-3">
<h3 id="orgc327c09"><span class="section-number-3">6.5</span> Pods</h3>
</div>

<div id="outline-container-orgc604ce5" class="outline-3">
<h3 id="orgc604ce5"><span class="section-number-3">6.6</span> Services</h3>
</div>


<div id="outline-container-org722dc15" class="outline-3">
<h3 id="org722dc15"><span class="section-number-3">6.7</span> Deployments</h3>
</div>


<div id="outline-container-org7d01574" class="outline-3">
<h3 id="org7d01574"><span class="section-number-3">6.8</span> Bringing It Home</h3>
</div>
</div>

<div id="outline-container-orgdd33db7" class="outline-2">
<h2 id="orgdd33db7"><span class="section-number-2">7</span> Installing Kubernetes</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org8eb6213" class="outline-3">
<h3 id="org8eb6213"><span class="section-number-3">7.1</span> Module Intro</h3>
</div>


<div id="outline-container-org2336699" class="outline-3">
<h3 id="org2336699"><span class="section-number-3">7.2</span> Minikube</h3>
</div>


<div id="outline-container-orgd85e206" class="outline-3">
<h3 id="orgd85e206"><span class="section-number-3">7.3</span> Google Container Engine</h3>
</div>


<div id="outline-container-org9ec09e0" class="outline-3">
<h3 id="org9ec09e0"><span class="section-number-3">7.4</span> Installing in AWS with kops</h3>
</div>

<div id="outline-container-org060c5d9" class="outline-3">
<h3 id="org060c5d9"><span class="section-number-3">7.5</span> Installing Manually with kubeadm</h3>
</div>


<div id="outline-container-org669c378" class="outline-3">
<h3 id="org669c378"><span class="section-number-3">7.6</span> Module Summary</h3>
</div>
</div>


<div id="outline-container-orge74d88f" class="outline-2">
<h2 id="orge74d88f"><span class="section-number-2">8</span> Working with Pods</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org91d8a16" class="outline-3">
<h3 id="org91d8a16"><span class="section-number-3">8.1</span> Pod Theory</h3>
</div>


<div id="outline-container-orga0c4b1c" class="outline-3">
<h3 id="orga0c4b1c"><span class="section-number-3">8.2</span> Deploying Your First Pod</h3>
</div>


<div id="outline-container-org2cd2c5a" class="outline-3">
<h3 id="org2cd2c5a"><span class="section-number-3">8.3</span> Deploying Pods via Replication Controllers</h3>
</div>


<div id="outline-container-org9c1b6b9" class="outline-3">
<h3 id="org9c1b6b9"><span class="section-number-3">8.4</span> Module Summary</h3>
</div>


<div id="outline-container-orgb18a434" class="outline-3">
<h3 id="orgb18a434"><span class="section-number-3">8.5</span> Kubernetes Services</h3>
</div>


<div id="outline-container-org2e8c49d" class="outline-3">
<h3 id="org2e8c49d"><span class="section-number-3">8.6</span> Module Intro</h3>
</div>


<div id="outline-container-orgac6eceb" class="outline-3">
<h3 id="orgac6eceb"><span class="section-number-3">8.7</span> The Theory</h3>
</div>


<div id="outline-container-org7f7279c" class="outline-3">
<h3 id="org7f7279c"><span class="section-number-3">8.8</span> Creating a Service the Iterative Way</h3>
</div>


<div id="outline-container-org18ff9c3" class="outline-3">
<h3 id="org18ff9c3"><span class="section-number-3">8.9</span> Creating a Service the Declarative Way</h3>
</div>


<div id="outline-container-orge0d6635" class="outline-3">
<h3 id="orge0d6635"><span class="section-number-3">8.10</span> In the Real World</h3>
</div>


<div id="outline-container-org2cfe49b" class="outline-3">
<h3 id="org2cfe49b"><span class="section-number-3">8.11</span> Summary</h3>
</div>
</div>


<div id="outline-container-org1fd98d9" class="outline-2">
<h2 id="org1fd98d9"><span class="section-number-2">9</span> Kubernetes Deployments</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org8ab5faa" class="outline-3">
<h3 id="org8ab5faa"><span class="section-number-3">9.1</span> Module Intro</h3>
</div>


<div id="outline-container-org39f2211" class="outline-3">
<h3 id="org39f2211"><span class="section-number-3">9.2</span> Deployment Theory</h3>
</div>


<div id="outline-container-org1930e45" class="outline-3">
<h3 id="org1930e45"><span class="section-number-3">9.3</span> Creating Your First Kubernetes Deployment</h3>
</div>


<div id="outline-container-orgfe513a2" class="outline-3">
<h3 id="orgfe513a2"><span class="section-number-3">9.4</span> Updating a Deployment</h3>
</div>


<div id="outline-container-org3dfb6ca" class="outline-3">
<h3 id="org3dfb6ca"><span class="section-number-3">9.5</span> Module Summary</h3>
</div>
</div>


<div id="outline-container-org60d07ee" class="outline-2">
<h2 id="org60d07ee"><span class="section-number-2">10</span> What Next?</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org4dec519" class="outline-3">
<h3 id="org4dec519"><span class="section-number-3">10.1</span> What Next?</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: EVAN-PC</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
